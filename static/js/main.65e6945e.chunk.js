(this["webpackJsonpinfinite-scroller"]=this["webpackJsonpinfinite-scroller"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=(n(13),n(3)),s=n(1),u=n(2),l=n(5),h=n(4),f=(n(14),new IntersectionObserver((function(e,t){e.reverse().forEach((function(e){e.isIntersecting&&e.target.dispatchEvent(new Event("showing"))}))}))),v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).ref=Object(r.createRef)(),e.state={json:[""],nextPage:1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://picsum.photos/v2/list?limit=20&page=".concat(this.state.nextPage)).then((function(e){return e.json()})).then((function(t){e.setState({json:t,nextPage:e.state.nextPage+1})}))}},{key:"componentDidUpdate",value:function(){var e=this;f.observe(this.ref.current),this.ref.current.addEventListener("showing",(function(){fetch("https://picsum.photos/v2/list?limit=20&page=".concat(e.state.nextPage)).then((function(e){return e.json()})).then((function(t){e.setState({json:[].concat(Object(i.a)(e.state.json),Object(i.a)(t)),nextPage:e.state.nextPage+1})}))}))}},{key:"render",value:function(){var e=this,t=this.state.json.map((function(e,t){return a.a.createElement(m,{key:t,src:e.download_url})}));return a.a.createElement("div",{className:"App"},t.map((function(n,r){return r===t.length-1?a.a.createElement("div",{key:r,ref:e.ref},n):n})))}}]),n}(a.a.Component),m=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).ref=Object(r.createRef)(),e.state={url:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.observe(this.ref.current),this.ref.current.addEventListener("showing",(function(t){e.setState({url:e.props.src})}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.url!==t.url}},{key:"render",value:function(){var e=this.state.url;return a.a.createElement("div",{className:"lazyImage",ref:this.ref},a.a.createElement("img",{alt:"random picsum",src:e}))}}]),n}(a.a.Component),p=v;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.65e6945e.chunk.js.map